# Places a gobblerift

data remove storage tcc:temp root
execute if entity @s[predicate=tcc:entity_properties/slots/weapon.mainhand/gobblerift] if data entity @s SelectedItem.components."minecraft:custom_name" run data modify storage tcc:temp root.name set from entity @s SelectedItem.components."minecraft:custom_name"
execute if entity @s[predicate=tcc:entity_properties/slots/weapon.mainhand/gobblerift] run data modify storage tcc:temp root.id set from entity @s SelectedItem.components."minecraft:custom_data".tcc.gobblerift_id

execute if entity @s[predicate=!tcc:entity_properties/slots/weapon.mainhand/gobblerift] if data entity @s Inventory[{Slot:-106b}].components."minecraft:custom_name" run data modify storage tcc:temp root.name set from entity @s Inventory[{Slot:-106b}].components."minecraft:custom_name"
execute if entity @s[predicate=!tcc:entity_properties/slots/weapon.mainhand/gobblerift] run data modify storage tcc:temp root.id set from entity @s Inventory[{Slot:-106b}].components."minecraft:custom_data".tcc.gobblerift_id

item replace entity @s[gamemode=!creative,predicate=!tcc:entity_properties/slots/weapon.mainhand/gobblerift] weapon.offhand with minecraft:air
item replace entity @s[gamemode=!creative,predicate=tcc:entity_properties/slots/weapon.mainhand/gobblerift] weapon.mainhand with minecraft:air

data modify storage tcc:temp root.dimension set from entity @s Dimension

execute if entity @s[y_rotation=135..-135] run summon minecraft:item_display ~ ~ ~ {Passengers:[{Tags:["tcc.gobblerift.seedling_1","tcc.gobblerift.bonemealable","tcc.ten_second_clock","tcc.second_clock","tcc.gobblerift","tcc.block","smithed.entity","smithed.block"],response:true,id:"minecraft:interaction",width:1.0f,height:0.3125f,Rotation:[0.0f,0.0f]}],Rotation:[0.0f,0.0f],Tags:["tcc.block","tcc.tick","smithed.entity","smithed.block","tcc.gobblerift","tcc.ten_second_clock","tcc.gobblerift.start"],transformation:{translation:[0.0f,0.5f,0.0f],left_rotation:[0.0f,0.0f,0.0f,1.0f],scale:[1.0f,1.0f,1.0f],right_rotation:[0.0f,0.0f,0.0f,1.0f]},item:{id:"minecraft:structure_block",count:1,components:{"minecraft:custom_data":{break_state:0},"custom_model_data":330022}},view_range:4.0f}
execute if entity @s[y_rotation=-135..-45] run summon minecraft:item_display ~ ~ ~ {Passengers:[{Tags:["tcc.gobblerift.seedling_1","tcc.gobblerift.bonemealable","tcc.ten_second_clock","tcc.second_clock","tcc.gobblerift","tcc.block","smithed.entity","smithed.block"],response:true,id:"minecraft:interaction",width:1.0f,height:0.3125f,Rotation:[90.0f,0.0f]}],Rotation:[90.0f,0.0f],Tags:["tcc.block","tcc.tick","smithed.entity","smithed.block","tcc.gobblerift","tcc.ten_second_clock","tcc.gobblerift.start"],transformation:{translation:[0.0f,0.5f,0.0f],left_rotation:[0.0f,0.0f,0.0f,1.0f],scale:[1.0f,1.0f,1.0f],right_rotation:[0.0f,0.0f,0.0f,1.0f]},item:{id:"minecraft:structure_block",count:1,components:{"minecraft:custom_data":{break_state:0},"custom_model_data":330022}},view_range:4.0f}
execute if entity @s[y_rotation=-45..45] run summon minecraft:item_display ~ ~ ~ {Passengers:[{Tags:["tcc.gobblerift.seedling_1","tcc.gobblerift.bonemealable","tcc.ten_second_clock","tcc.second_clock","tcc.gobblerift","tcc.block","smithed.entity","smithed.block"],response:true,id:"minecraft:interaction",width:1.0f,height:0.3125f,Rotation:[180.0f,0.0f]}],Rotation:[180.0f,0.0f],Tags:["tcc.block","tcc.tick","smithed.entity","smithed.block","tcc.gobblerift","tcc.ten_second_clock","tcc.gobblerift.start"],transformation:{translation:[0.0f,0.5f,0.0f],left_rotation:[0.0f,0.0f,0.0f,1.0f],scale:[1.0f,1.0f,1.0f],right_rotation:[0.0f,0.0f,0.0f,1.0f]},item:{id:"minecraft:structure_block",count:1,components:{"minecraft:custom_data":{break_state:0},"custom_model_data":330022}},view_range:4.0f}
execute if entity @s[y_rotation=45..135] run summon minecraft:item_display ~ ~ ~ {Passengers:[{Tags:["tcc.gobblerift.seedling_1","tcc.gobblerift.bonemealable","tcc.ten_second_clock","tcc.second_clock","tcc.gobblerift","tcc.block","smithed.entity","smithed.block"],response:true,id:"minecraft:interaction",width:1.0f,height:0.3125f,Rotation:[270.0f,0.0f]}],Rotation:[270.0f,0.0f],Tags:["tcc.block","tcc.tick","smithed.entity","smithed.block","tcc.gobblerift","tcc.ten_second_clock","tcc.gobblerift.start"],transformation:{translation:[0.0f,0.5f,0.0f],left_rotation:[0.0f,0.0f,0.0f,1.0f],scale:[1.0f,1.0f,1.0f],right_rotation:[0.0f,0.0f,0.0f,1.0f]},item:{id:"minecraft:structure_block",count:1,components:{"minecraft:custom_data":{break_state:0},"custom_model_data":330022}},view_range:4.0f}

execute as @n[type=minecraft:item_display,tag=tcc.gobblerift.start] run function tcc:block/gobblerift/place/initiate
playsound tcc:block.gobblerift.place block @a[distance=..16]